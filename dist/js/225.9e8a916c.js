"use strict";(self["webpackChunkcloud_music"]=self["webpackChunkcloud_music"]||[]).push([[225],{1225:function(t,i,s){s.r(i),s.d(i,{default:function(){return k}});var n=s(9424),l=(s(175),s(7864)),e=s(7483);const a=t=>((0,l.dD)("data-v-21b66fbc"),t=t(),(0,l.Cn)(),t),r={class:"songdetail-container"},o=["src"],c={class:"songdetail"},u=a((()=>(0,l._)("h3",null,"lyric: ",-1))),d={class:"lyric"},g=a((()=>(0,l._)("br",null,null,-1))),h=a((()=>(0,l._)("h3",null,"looking forword ...",-1)));function m(t,i,s,a,m,f){const w=n.l2;return(0,l.wg)(),(0,l.iD)("div",r,[(0,l.Wm)(w,{title:"音乐详情","left-text":"返回","left-arrow":"",fixed:"","safe-area-inset-top":"",onClickLeft:f.left},null,8,["onClickLeft"]),(0,l._)("img",{src:m.picUrl,class:"bgImg"},null,8,o),(0,l._)("div",c,[(0,l._)("h3",null,"id: "+(0,e.zw)(m.id),1),(0,l._)("h3",null,"name: "+(0,e.zw)(m.songs.name),1),((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(m.songs.alia,((t,i)=>((0,l.wg)(),(0,l.iD)("h3",{key:i},"alia: "+(0,e.zw)(t),1)))),128)),((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(m.songs.ar,((t,i)=>((0,l.wg)(),(0,l.iD)("h3",{key:i},"author["+(0,e.zw)(i+1)+"]: "+(0,e.zw)(t.name),1)))),128)),(0,l._)("h3",null,"album: "+(0,e.zw)(m.album),1),u,(0,l._)("div",d,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(m.lyric,((t,i)=>((0,l.wg)(),(0,l.iD)("h4",{key:i},(0,e.zw)(t.text),1)))),128))]),g,h])])}var f=s(5604),w=s(9321);
/**
 * @description 解析歌词
 * @author liqinglin <1740242084@qq.com>
 * @license Apache-2.0
 * @param {string} lrc 执行目标函数的 lrc
 * @example
 * parseLyric(lrc)
 */
function y(t){const i=t.split("\n"),s=i.map((t=>{const i=t.match(/^\[(\d{2}:\d{2}\.\d{2,3})\]/g);if(i){const s=i[0],n=s.replace(/\./g,":"),l=t.replace(i,"").trim();return{time:n,text:l}}return null})).filter((t=>null!==t));return s}var p={name:"songdetail",data(){return{id:"",picUrl:"",songs:[],album:"",lyric:""}},methods:{left(){(0,f.CF)("返回"),this.$router.go(-1)},async initGet(){this.id=this.$router.currentRoute.value.query.id;const{data:t}=await(0,w.KJ)(this.id);this.songs=t.songs[0],this.picUrl=this.songs.al.picUrl,this.album=this.songs.al.name,sessionStorage.setItem("songdetail",JSON.stringify(t));const{data:i}=await(0,w.sO)(this.id);this.lyric=y(i.lrc.lyric),sessionStorage.setItem("lyric",JSON.stringify(i));const{data:s}=await(0,w.mq)(this.id);sessionStorage.setItem("commentmusic",JSON.stringify(s))}},mounted(){this.initGet()}},_=s(3170);const b=(0,_.Z)(p,[["render",m],["__scopeId","data-v-21b66fbc"]]);var k=b},175:function(t,i,s){s(4990),s(6860),s(9345)}}]);
//# sourceMappingURL=225.9e8a916c.js.map