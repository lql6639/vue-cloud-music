"use strict";(self["webpackChunkcloud_music"]=self["webpackChunkcloud_music"]||[]).push([[65],{3065:function(e,t,i){i.r(t),i.d(t,{default:function(){return E}});var r=i(9424),s=(i(175),i(7864)),n=i(7483);const u=e=>((0,s.dD)("data-v-5a51b976"),e=e(),(0,s.Cn)(),e),c={class:"smile-container"},l={class:"weather-wrap"},a={class:"info clearfix"},o={class:"pull-left"},h={class:"temp"},d={class:"type"},f={class:"area"},y={class:"pull-right"},p={class:"icon weatherImg","aria-hidden":"true",ref:"weatherImg"},x=u((()=>(0,s._)("use",{"xlink:href":""},null,-1))),g=[x],b={class:"list"},m={class:"item"},k=u((()=>(0,s._)("svg",{class:"icon","aria-hidden":"true"},[(0,s._)("use",{"xlink:href":"#icon-gaowen"})],-1))),S={class:"item"},q=u((()=>(0,s._)("svg",{class:"icon","aria-hidden":"true"},[(0,s._)("use",{"xlink:href":"#icon-diwen"})],-1))),A={class:"item"},w=u((()=>(0,s._)("svg",{class:"icon","aria-hidden":"true"},[(0,s._)("use",{"xlink:href":"#icon-ganwentanceqi"})],-1))),_={class:"item"},v=u((()=>(0,s._)("svg",{class:"icon","aria-hidden":"true"},[(0,s._)("use",{"xlink:href":"#icon-shidu"})],-1))),z={class:"item"},I=u((()=>(0,s._)("svg",{class:"icon","aria-hidden":"true"},[(0,s._)("use",{"xlink:href":"#icon-fengxiang"})],-1))),j={class:"item"},W=u((()=>(0,s._)("svg",{class:"icon","aria-hidden":"true"},[(0,s._)("use",{"xlink:href":"#icon-fengli"})],-1)));function $(e,t,i,u,x,$){const C=r.l2;return(0,s.wg)(),(0,s.iD)("div",c,[(0,s.Wm)(C,{title:"天气",fixed:"","safe-area-inset-top":""}),(0,s._)("div",l,[(0,s._)("div",a,[(0,s._)("div",o,[(0,s._)("p",null,[(0,s._)("span",h,(0,n.zw)(this.temperature)+"℃",1),(0,s._)("span",d,(0,n.zw)(this.type),1)]),(0,s._)("p",f,(0,n.zw)(this.area),1)]),(0,s._)("div",y,[((0,s.wg)(),(0,s.iD)("svg",p,g,512))])]),(0,s._)("ul",b,[(0,s._)("li",m,[k,(0,s._)("p",null,(0,n.zw)(this.daytemp)+"℃",1)]),(0,s._)("li",S,[q,(0,s._)("p",null,(0,n.zw)(this.nighttemp)+"℃",1)]),(0,s._)("li",A,[w,(0,s._)("p",null,(0,n.zw)(this.temperature)+"℃",1)]),(0,s._)("li",_,[v,(0,s._)("p",null,(0,n.zw)(this.real.humidity)+"%",1)]),(0,s._)("li",z,[I,(0,s._)("p",null,(0,n.zw)(this.real.winddirection),1)]),(0,s._)("li",j,[W,(0,s._)("p",null,(0,n.zw)(this.real.windpower)+"级",1)])])])])}var C=i(3950);const D=C.Z.create({baseURL:"https://restapi.amap.com"});var J=D;const N="2863ccd3a9e0df85433cf960ed3eaade";function O(){return J.get(`/v3/ip?&key=${N}`)}function T(e){return J.get(`/v3/weather/weatherInfo?key=${N}&extensions=base`,{params:{city:e}})}function Z(e){return J.get(`/v3/weather/weatherInfo?key=${N}&extensions=all`,{params:{city:e}})}
/**
 * @description 函数防抖
 * @author liqinglin <1740242084@qq.com>
 * @license Apache-2.0
 * @param {Function} func 要执行的目标函数
 * @param {Number} delay 执行目标函数的时间间隔
 * @example
 * debounce(initGet,3 * 1000)
 */
function L(e,t){let i;return function(...r){const s=this;i&&clearTimeout(i),i=setTimeout((function(){e.apply(s,r)}),t)}}var R={name:"Weather",data(){return{ip:"",city:"",real:"",fore:"",area:"",type:"",temperature:"",daytemp:"",nighttemp:""}},mounted(){this.getWeather()},methods:{async getWeather(){const{data:e}=await O();this.ip=e,this.city=e.city,sessionStorage.setItem("ip",JSON.stringify(this.ip));const{data:t}=await T(this.city);this.real=t.lives[0],sessionStorage.setItem("real",JSON.stringify(this.real));const{data:i}=await Z(this.city);this.fore=i.forecasts[0].casts[0],sessionStorage.setItem("fore",JSON.stringify(this.fore)),this.area=this.ip.city.replace(/市(.*)$/,""),this.type=this.real.weather.replace(/\/.*|-.*|（.*）|\(.*\)/g,"").trim().substring(0,4),this.temperature=this.real.temperature,this.daytemp=this.fore.daytemp,this.daytemp>=this.temperature?this.daytemp=this.daytemp:this.daytemp=this.temperature,this.nighttemp=this.fore.nighttemp,this.nighttemp<=this.temperature?this.nighttemp=this.nighttemp:this.nighttemp=this.temperature;const r=this.$refs.weatherImg,s=this.real.weather,n=["晴"],u=["晴间多云"],c=["阴","少云"],l=["多云"],a=["雨","毛毛雨/细雨","小雨","小雨-中雨"],o=["中雨","中雨-大雨"],h=["大雨","大雨-暴雨"],d=["暴雨","暴雨-大暴雨","阵雨"],f=["大暴雨","大暴雨-特大暴雨"],y=["特大暴雨","强阵雨"],p=["雷阵雨","强雷阵雨"],x=["雷阵雨并伴有冰雹"],g=["雨雪天气","雨夹雪","阵雨夹雪"],b=["极端降雨"],m=["冻雨"],k=["雪"],S=["小雪","小雪-中雪"],q=["中雪","中雪-大雪"],A=["大雪","大雪-暴雪"],w=["暴雪"],_=["阵雪"],v=["雾","轻雾","大雾"],z=["浓雾","强浓雾","特强浓雾"],I=["霾"],j=["中度霾"],W=["重度霾"],$=["严重霾"],C=["浮尘"],D=["扬沙"],J=["沙尘暴"],N=["强沙尘暴"],L=["龙卷风"],R=["有风","平静"],U=["微风","和风","清风"],B=["强风/劲风","疾风","大风"],E=["烈风","风暴","狂爆风","飓风"],F=["热带风暴"],G=["热"],H=["冷"];n.includes(s)?r.querySelector("use").setAttribute("xlink:href","#icon-qing"):u.includes(s)?r.querySelector("use").setAttribute("xlink:href","#icon-duoyun"):c.includes(s)?r.querySelector("use").setAttribute("xlink:href","#icon-yin1"):l.includes(s)?r.querySelector("use").setAttribute("xlink:href","#icon-yin"):a.includes(s)?r.querySelector("use").setAttribute("xlink:href","#icon-xiaoyu"):o.includes(s)?r.querySelector("use").setAttribute("xlink:href","#icon-zhongyu"):h.includes(s)?r.querySelector("use").setAttribute("xlink:href","#icon-dayu"):d.includes(s)?r.querySelector("use").setAttribute("xlink:href","#icon-baoyu"):f.includes(s)?r.querySelector("use").setAttribute("xlink:href","#icon-dabaoyu"):y.includes(s)?r.querySelector("use").setAttribute("xlink:href","#icon-tedabaoyu"):p.includes(s)?r.querySelector("use").setAttribute("xlink:href","#icon-leizhenyu"):x.includes(s)?r.querySelector("use").setAttribute("xlink:href","#icon-leizhenyubanbingbao"):g.includes(s)?r.querySelector("use").setAttribute("xlink:href","#icon-yujiaxue"):b.includes(s)?r.querySelector("use").setAttribute("xlink:href","#icon-jiduanjiangyu"):m.includes(s)?r.querySelector("use").setAttribute("xlink:href","#icon-dongyu"):k.includes(s)?r.querySelector("use").setAttribute("xlink:href","#icon-xue"):S.includes(s)?r.querySelector("use").setAttribute("xlink:href","#icon-xiaoxue2"):q.includes(s)?r.querySelector("use").setAttribute("xlink:href","#icon-zhongxue2"):A.includes(s)?r.querySelector("use").setAttribute("xlink:href","#icon-daxue2"):w.includes(s)?r.querySelector("use").setAttribute("xlink:href","#icon-baoxue2"):_.includes(s)?r.querySelector("use").setAttribute("xlink:href","#icon-zhenxue"):v.includes(s)?r.querySelector("use").setAttribute("xlink:href","#icon-wu"):z.includes(s)?r.querySelector("use").setAttribute("xlink:href","#icon-a-tianqiwu"):I.includes(s)?r.querySelector("use").setAttribute("xlink:href","#icon-mai"):j.includes(s)?r.querySelector("use").setAttribute("xlink:href","#icon-zhongdumai"):W.includes(s)?r.querySelector("use").setAttribute("xlink:href","#icon-zhongdumai1"):$.includes(s)?r.querySelector("use").setAttribute("xlink:href","#icon-yanzhongmai"):C.includes(s)?r.querySelector("use").setAttribute("xlink:href","#icon-fuchen"):D.includes(s)?r.querySelector("use").setAttribute("xlink:href","#icon-yangsha"):J.includes(s)?r.querySelector("use").setAttribute("xlink:href","#icon-a-shachenbao1"):N.includes(s)?r.querySelector("use").setAttribute("xlink:href","#icon-a-qiangshachenbao1"):L.includes(s)?r.querySelector("use").setAttribute("xlink:href","#icon-longjuanfeng"):R.includes(s)?r.querySelector("use").setAttribute("xlink:href","#icon-weifeng"):U.includes(s)?r.querySelector("use").setAttribute("xlink:href","#icon-ruofeng"):B.includes(s)?r.querySelector("use").setAttribute("xlink:href","#icon-qiangfeng"):E.includes(s)?r.querySelector("use").setAttribute("xlink:href","#icon-a-jufengredaifengbao"):F.includes(s)?r.querySelector("use").setAttribute("xlink:href","#icon-redaifengbao"):G.includes(s)?r.querySelector("use").setAttribute("xlink:href","#icon-re"):H.includes(s)?r.querySelector("use").setAttribute("xlink:href","#icon-a-re1"):r.querySelector("use").setAttribute("xlink:href","#icon-weizhi")}},watch:{real:L((function(e,t){this.getWeather()}),18e4)}},U=i(3170);const B=(0,U.Z)(R,[["render",$],["__scopeId","data-v-5a51b976"]]);var E=B},175:function(e,t,i){i(4990),i(6860),i(9345)}}]);
//# sourceMappingURL=65.1d0b5a36.js.map